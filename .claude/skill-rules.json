{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "PPM Project - Skills Auto-Activation Configuration",
  "version": "1.4.0",
  "lastUpdated": "2026-01-23",

  "skills": {
    "ppm-style-book": {
      "type": "domain",
      "enforcement": "require",
      "priority": "critical",
      "skillLocation": ".claude/skills/ppm-style-book/SKILL.md",
      "promptTriggers": {
        "keywords": [
          "style",
          "styling",
          "css",
          "color",
          "button",
          "badge",
          "card",
          "form",
          "input",
          "checkbox",
          "progress",
          "tab",
          "modal",
          "dropdown",
          "z-index",
          "layout",
          "spacing",
          "typography",
          "enterprise component",
          "ppm color",
          "mpp orange"
        ],
        "intentPatterns": [
          "(style|design).*?(button|card|badge|form|modal)",
          "(create|add).*?(component|ui|style)",
          "color.*?(palette|token|system)",
          "(mpp|ppm).*?(orange|blue|green|red|primary|secondary)",
          "enterprise.*?(card|button|badge|component)",
          "progress.*?bar",
          "tab.*?(system|component)",
          "z-index.*?(layer|conflict|modal)",
          "css.*?(token|variable|custom property)",
          "gradient",
          "brand.*?(color|mantra|style)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "resources/css/**/*.css",
          "resources/views/**/*.blade.php",
          "tailwind.config.js"
        ],
        "contentPatterns": [
          "--mpp-primary",
          "--ppm-primary",
          "--bg-card",
          "--text-primary",
          "\\.btn-enterprise-",
          "\\.enterprise-card",
          "\\.badge-enterprise",
          "\\.layer-",
          "\\.progress-enterprise",
          "\\.tabs-enterprise",
          "\\.icon-chip",
          "var\\(--",
          "background:.*gradient",
          "z-index:"
        ]
      },
      "criticalRules": [
        "ZAKAZ: Inline styles (style=\"...\")",
        "ZAKAZ: Hardcoded colors (use CSS Custom Properties)",
        "ZAKAZ: Arbitrary z-index values (use .layer-* system)",
        "WYMAGANE: PPM color tokens (--mpp-primary, --ppm-primary, etc.)",
        "WYMAGANE: Enterprise component classes (.btn-enterprise-*, .enterprise-card)",
        "WYMAGANE: HTTP 200 verification before completion",
        "WYMAGANE: Screenshot verification after UI changes"
      ],
      "description": "PPM-specific styling standards: Color tokens, enterprise components, layer system, deployment workflow"
    },
    "laravel-dev-guidelines": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "promptTriggers": {
        "keywords": [
          "laravel",
          "controller",
          "service",
          "model",
          "eloquent",
          "migration",
          "artisan",
          "php",
          "backend",
          "api",
          "endpoint",
          "route"
        ],
        "intentPatterns": [
          "(create|add|build).*?(controller|service|model|migration)",
          "(how to|best practice).*?(laravel|backend|api)",
          "service layer",
          "eloquent.*?(relationship|query|scope)",
          "(implement|write).*?(endpoint|route|api)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "app/**/*.php",
          "database/migrations/*.php",
          "routes/*.php",
          "app/Http/Controllers/**/*.php",
          "app/Services/**/*.php",
          "app/Models/**/*.php"
        ],
        "contentPatterns": [
          "namespace App\\\\",
          "use Illuminate\\\\",
          "extends Model",
          "extends Controller",
          "class.*Service",
          "Schema::"
        ]
      },
      "description": "Laravel best practices: Service Layer, Controllers, Models, Migrations, Eloquent patterns"
    },

    "livewire-dev-guidelines": {
      "type": "domain",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "livewire",
          "component",
          "wire:",
          "alpine",
          "@livewire",
          "trait composition",
          "livewire validation",
          "reactive",
          "wire:model",
          "wire:click"
        ],
        "intentPatterns": [
          "(create|add|build).*?(livewire|component)",
          "wire:(model|click|submit|poll|loading|dirty)",
          "(how to|best practice).*?livewire",
          "trait.*?composition",
          "component.*?(refactor|split|extract)",
          "(reactive|computed).*?propert"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "app/Livewire/**/*.php",
          "resources/views/livewire/**/*.blade.php",
          "app/Http/Livewire/**/*.php"
        ],
        "contentPatterns": [
          "use Livewire\\\\Component",
          "extends Component",
          "#\\[Layout\\]",
          "wire:model",
          "wire:click",
          "wire:submit",
          "public \\$",
          "#\\[Computed\\]"
        ]
      },
      "description": "Livewire 3.x patterns: Single Responsibility, Trait Composition, Service Injection, Lifecycle hooks"
    },

    "frontend-dev-guidelines": {
      "type": "domain",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "css",
          "tailwind",
          "alpine",
          "blade",
          "frontend",
          "ui",
          "style",
          "styling",
          "modal",
          "dropdown",
          "button",
          "form",
          "layout",
          "design"
        ],
        "intentPatterns": [
          "(style|design|ui|layout)",
          "(add|create).*?(modal|dropdown|button|form)",
          "inline.*?style",
          "arbitrary.*?tailwind",
          "z-index",
          "(css|tailwind).*?(class|style)",
          "(animate|transition)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "resources/css/**/*.css",
          "resources/views/**/*.blade.php",
          "resources/js/**/*.js"
        ],
        "contentPatterns": [
          "@apply",
          "x-data",
          "class=\"",
          "style=\"",
          "z-\\[",
          "@layer",
          "tailwind.config"
        ]
      },
      "criticalRules": [
        "ZAKAZ: Inline styles (style=\"...\")",
        "ZAKAZ: Arbitrary Tailwind values (class=\"z-[9999]\")",
        "WYMAGANE: Dedicated CSS classes in resources/css/",
        "WYMAGANE: Mandatory screenshot verification after UI changes"
      ],
      "description": "Frontend rules: ZAKAZ inline styles, ZAKAZ arbitrary Tailwind, dedicated CSS classes, mandatory verification"
    },

    "prestashop-sync-manager": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "promptTriggers": {
        "keywords": [
          "prestashop",
          "sync",
          "import",
          "export",
          "ps8",
          "ps9",
          "transformer",
          "mapper",
          "shop",
          "multi-shop",
          "sync job",
          "prestashop api"
        ],
        "intentPatterns": [
          "sync.*?(prestashop|product|category)",
          "import.*?prestashop",
          "export.*?(product|category)",
          "prestashop.*?(api|client|integration)",
          "conflict.*?resolution",
          "(map|transform).*?(product|category)",
          "sync.*?(status|log|error)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "app/Services/PrestaShop/**/*.php",
          "app/Livewire/Admin/Shops/*.php",
          "app/Models/ProductShopData.php",
          "app/Models/PrestaShopShop.php",
          "app/Models/SyncJob.php",
          "app/Models/SyncLog.php"
        ],
        "contentPatterns": [
          "PrestaShopService",
          "PrestaShopClient",
          "SyncJob",
          "ProductTransformer",
          "CategoryTransformer",
          "CategoryMapper",
          "PriceGroupMapper",
          "WarehouseMapper",
          "namespace.*PrestaShop"
        ]
      },
      "description": "PrestaShop integration: API clients (8.x/9.x), Transformers, Mappers, Sync jobs, Conflict resolution"
    },

    "sku-architecture-validator": {
      "type": "guardrail",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "product",
          "find",
          "where",
          "id",
          "primary key",
          "product id",
          "product lookup",
          "find product"
        ],
        "intentPatterns": [
          "Product::find",
          "->id",
          "where\\('id'",
          "find.*?product",
          "product.*?by.*?id",
          "whereId",
          "findOrFail"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "app/**/*.php"
        ],
        "contentPatterns": [
          "Product::find\\(",
          "->where\\('id',",
          "whereId\\(",
          "findOrFail\\(",
          "Product::findOrFail",
          "->find\\(\\$"
        ]
      },
      "criticalRules": [
        "ZAKAZ: Product::find($id) - use Product::where('sku', $sku)->first()",
        "ZAKAZ: Hard-coded product IDs",
        "WYMAGANE: SKU as primary identifier",
        "WYMAGANE: Use SKU in relationships"
      ],
      "description": "SKU-first architecture enforcement: ZAKAZ hard-coded IDs, WYMAGANE SKU usage, validation script"
    },

    "multi-store-data-manager": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "promptTriggers": {
        "keywords": [
          "multi-store",
          "per-shop",
          "shop_id",
          "ProductShopData",
          "shop-specific",
          "shop override",
          "shop data",
          "per shop"
        ],
        "intentPatterns": [
          "per.?shop",
          "multi.?store",
          "shop.?(override|specific|data)",
          "sync.*?status",
          "pending.*?change",
          "shop.*?(data|config|setting)",
          "override.*?shop"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "app/Models/ProductShopData.php",
          "app/Services/**/*MultiStore*.php",
          "app/Livewire/Products/**/*.php",
          "app/Models/ProductShopCategory.php"
        ],
        "contentPatterns": [
          "ProductShopData",
          "shop_id",
          "shopData\\(",
          "per_shop_",
          "shop_override",
          "hasShopData",
          "shopSpecific"
        ]
      },
      "description": "Multi-store patterns: Per-shop data, Sync status tracking, Conflict detection, Pending changes system"
    },

    "variant-system-manager": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "medium",
      "promptTriggers": {
        "keywords": [
          "variant",
          "attribute",
          "combination",
          "sku_variantu",
          "attribute type",
          "attribute value",
          "variant price",
          "variant stock"
        ],
        "intentPatterns": [
          "create.*?variant",
          "generate.*?combination",
          "attribute.*?mapping",
          "variant.*?(price|stock|image)",
          "(attribute|variant).*?prestashop",
          "combination.*?matrix"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "app/Models/ProductVariant.php",
          "app/Models/AttributeType.php",
          "app/Models/AttributeValue.php",
          "app/Services/**/*Variant*.php",
          "app/Livewire/Admin/Variants/*.php"
        ],
        "contentPatterns": [
          "ProductVariant",
          "AttributeType",
          "AttributeValue",
          "variant_attributes",
          "generateCombinations",
          "VariantAttribute",
          "variantPrices"
        ]
      },
      "description": "Variant system: Attribute types/values, Combination generation, Variant pricing, PrestaShop mapping"
    },

    "database-migration-manager": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "medium",
      "promptTriggers": {
        "keywords": [
          "migration",
          "schema",
          "table",
          "column",
          "index",
          "foreign key",
          "database",
          "alter table",
          "create table"
        ],
        "intentPatterns": [
          "create.*?migration",
          "add.*?column",
          "create.*?index",
          "drop.*?(table|column)",
          "alter.*?table",
          "foreign.*?key",
          "rollback",
          "migrate"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "database/migrations/*.php"
        ],
        "contentPatterns": [
          "Schema::create",
          "Schema::table",
          "->index\\(",
          "->foreign\\(",
          "->dropColumn",
          "->dropTable",
          "->renameColumn"
        ]
      },
      "description": "Migration best practices: Naming conventions, Rollback safety, Index optimization, Data migrations"
    },

    "ppm-architecture-compliance": {
      "type": "workflow",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "architecture",
          "compliance",
          "best practice",
          "pattern",
          "standard",
          "guideline"
        ],
        "intentPatterns": [
          "architecture.*?compliance",
          "check.*?(compliance|standard|pattern)",
          "verify.*?architecture",
          "validate.*?pattern"
        ]
      },
      "description": "PPM architecture compliance: Existing skill, checks project-specific patterns"
    },

    "livewire-troubleshooting": {
      "type": "workflow",
      "enforcement": "suggest",
      "priority": "high",
      "promptTriggers": {
        "keywords": [
          "livewire error",
          "wire:snapshot",
          "livewire not working",
          "component error",
          "livewire bug"
        ],
        "intentPatterns": [
          "livewire.*?(error|bug|issue|problem)",
          "wire:snapshot.*?rendering",
          "component.*?(not.*?work|fail|error)",
          "dependency.*?injection.*?conflict"
        ]
      },
      "description": "Livewire troubleshooting: Existing skill, 9 known Livewire issues and solutions"
    },

    "chrome-devtools-verification": {
      "type": "workflow",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "deployment",
          "deploy",
          "verification",
          "verify",
          "ui change",
          "frontend change",
          "livewire update",
          "css change",
          "blade change",
          "screenshot",
          "console errors",
          "production test",
          "after upload",
          "chrome devtools"
        ],
        "intentPatterns": [
          "(deploy|upload|wdróż).*?(completed|finished|done|ukończone)",
          "(verify|check|test|sprawdź).*?(deployment|ui|frontend|livewire)",
          "after.*?(deploy|upload|change|update)",
          "(ui|frontend|livewire|css|blade).*?(change|update|modify)",
          "screenshot.*?(test|verification)",
          "console.*?(error|check|verify)",
          "production.*?(test|verify|check)"
        ]
      },
      "criticalRules": [
        "⚠️ TOKEN OPTIMIZATION: Use evaluate_script() instead of full snapshot (85-95% reduction)",
        "MANDATORY: snapshot → file + Grep (nie wczytuj snapshot do context!)",
        "MANDATORY: JPEG screenshots (format: 'jpeg', quality: 85)",
        "MANDATORY: filePath parameter dla wszystkich snapshots",
        "MANDATORY: Chrome DevTools verification BEFORE reporting completion",
        "Reference: _DOCS/CHROME_DEVTOOLS_OPTIMIZED_QUERIES.md"
      ],
      "description": "Chrome DevTools MCP verification (v1.1.0 OPTIMIZED): Post-deployment, Livewire, Frontend verification - 85-95% token reduction via evaluate_script() + snapshot→file patterns"
    },

    "frontend-verification": {
      "type": "workflow",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "ui change",
          "frontend change",
          "screenshot",
          "verification",
          "ui test"
        ],
        "intentPatterns": [
          "(ui|frontend).*?change",
          "screenshot.*?test",
          "verify.*?(ui|frontend)",
          "visual.*?regression"
        ]
      },
      "description": "Frontend verification: MANDATORY screenshot testing after UI changes, console monitoring (use chrome-devtools-verification skill)"
    },

    "hostido-deployment": {
      "type": "workflow",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Hostido deployment: Existing skill, production deployment automation"
    },

    "agent-report-writer": {
      "type": "workflow",
      "enforcement": "require",
      "priority": "critical",
      "description": "Agent reporting: MANDATORY reports for all agents in _AGENT_REPORTS/"
    },

    "project-plan-manager": {
      "type": "workflow",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Project plan management: Updates Plan_Projektu/ with statuses and file references"
    },

    "context7-docs-lookup": {
      "type": "workflow",
      "enforcement": "require",
      "priority": "high",
      "promptTriggers": {
        "keywords": [
          "laravel documentation",
          "livewire documentation",
          "official docs",
          "how to"
        ],
        "intentPatterns": [
          "look up.*?documentation",
          "check.*?official.*?docs",
          "laravel.*?docs",
          "livewire.*?docs"
        ]
      },
      "description": "Context7 MCP: MANDATORY docs lookup BEFORE implementing Laravel/Livewire features"
    },

    "issue-documenter": {
      "type": "workflow",
      "enforcement": "suggest",
      "priority": "medium",
      "description": "Issue documentation: Document issues requiring >2h debugging in _ISSUES_FIXES/"
    },

    "debug-log-cleanup": {
      "type": "workflow",
      "enforcement": "suggest",
      "priority": "low",
      "description": "Debug cleanup: Remove debug logging after user confirms functionality works"
    },

    "skill-creator": {
      "type": "meta",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "skill",
          "create skill",
          "new skill",
          "build skill",
          "skill creation",
          "skill template",
          "skill pattern",
          "generate skill",
          "skill based on",
          "workflow pattern",
          "reusable pattern"
        ],
        "intentPatterns": [
          "(create|add|build|make|generate).*?skill",
          "skill.*?(creation|template|pattern)",
          "new.*?skill",
          "skill.*?based on",
          "(stwórz|utwórz).*?skill",
          "na.*?podstawie.*?skill"
        ]
      },
      "description": "Skill-Creator: Meta-skill for creating/updating skills, auto-activation, feedback system"
    },

    "agent-creator": {
      "type": "meta",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "agent",
          "create agent",
          "new agent",
          "build agent",
          "agent creation",
          "agent template",
          "subagent",
          "sub-agent",
          "agent_start",
          "generate agent"
        ],
        "intentPatterns": [
          "(create|add|build|make|generate).*?agent",
          "agent.*?(creation|template|pattern)",
          "new.*?agent",
          "(stwórz|utwórz).*?agent",
          "sub.?agent",
          "agent_start"
        ]
      },
      "description": "Agent-Creator: Meta-skill for creating/updating agents based on Anthropic best practices (session state, verification-first, model:default)"
    },

    "prestashop-xml-integration": {
      "type": "domain",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "prestashop xml",
          "prestashop api",
          "xml format",
          "manufacturer_name",
          "readonly field",
          "prestashop error",
          "start tag expected",
          "not writable",
          "id is required",
          "prestashop 8",
          "prestashop 9",
          "webservices"
        ],
        "intentPatterns": [
          "prestashop.*?(xml|api|integration)",
          "xml.*?prestashop",
          "(error|błąd).*?(manufacturer_name|readonly|not writable)",
          "start tag expected",
          "prestashop.*?(create|update|sync)",
          "(convert|konwersja).*?xml",
          "manufacturer.*?(lookup|id)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "app/Services/PrestaShop/**/*.php"
        ],
        "contentPatterns": [
          "arrayToXml",
          "PrestaShop8Client",
          "PrestaShop9Client",
          "ProductTransformer",
          "manufacturer_name",
          "id_manufacturer",
          "makeRequest.*POST.*products",
          "makeRequest.*PUT.*products"
        ]
      },
      "description": "PrestaShop XML workflow: XML conversion, readonly fields, manufacturer lookup, CREATE vs UPDATE patterns"
    },

    "prestashop-database-structure": {
      "type": "reference",
      "enforcement": "suggest",
      "priority": "high",
      "promptTriggers": {
        "keywords": [
          "prestashop database",
          "prestashop table",
          "ps_product",
          "ps_category",
          "ps_stock",
          "objectmodel",
          "multilang",
          "multistore",
          "_lang table",
          "_shop table",
          "prestashop schema",
          "prestashop query",
          "nested set",
          "nleft nright"
        ],
        "intentPatterns": [
          "prestashop.*?(database|table|schema|structure)",
          "ps_.*?(product|category|stock|manufacturer)",
          "(query|select).*?(ps_|prestashop)",
          "objectmodel.*?(definition|pattern)",
          "(multilang|multistore).*?(table|pattern)",
          "prestashop.*?(migration|database query)",
          "id_shop.*?id_lang"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "database/migrations/*_prestashop_*.php",
          "app/Models/*PrestaShop*.php",
          "app/Services/PrestaShop/**/*.php"
        ],
        "contentPatterns": [
          "ps_product",
          "ps_category",
          "ps_stock_available",
          "ps_manufacturer",
          "DB::connection\\('prestashop'\\)",
          "ObjectModel",
          "multilang.*?true",
          "multishop.*?true",
          "id_shop.*?id_lang"
        ]
      },
      "description": "PrestaShop database structure: Table schemas, ObjectModel patterns, multilang/multistore, query optimization"
    },

    "prestashop-api-integration": {
      "type": "domain",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "prestashop api",
          "webservice",
          "cqrs",
          "prestashop sync",
          "prestashop integration",
          "api authentication",
          "prestashop client",
          "cqrsget",
          "cqrscreate",
          "api workflow",
          "prestashop endpoint",
          "resource schema",
          "prestashop product",
          "product field",
          "product fields",
          "pola produktu",
          "pole produktu",
          "prestashop field",
          "prestashop fields",
          "required field",
          "wymagane pole",
          "readonly field",
          "pole readonly",
          "not writable",
          "id_manufacturer",
          "id_category_default",
          "minimal_quantity",
          "redirect_type",
          "additional_delivery_times",
          "ps_specific_price",
          "admin panel invisible",
          "niewidoczny w admin",
          "produkt znika",
          "product disappear",
          "import product",
          "export product",
          "sync product",
          "create product prestashop",
          "update product prestashop",
          "produkty prestashop",
          "synchronizacja produktu",
          "eksport produktu",
          "import produktu",
          "multilang field",
          "pole wielojęzyczne",
          "cena produktu",
          "product price",
          "product name",
          "nazwa produktu",
          "product description",
          "opis produktu",
          "product category",
          "kategoria produktu",
          "product manufacturer",
          "producent produktu",
          "product sku",
          "sku produktu",
          "product reference",
          "product ean",
          "ean produktu",
          "product weight",
          "waga produktu",
          "product active",
          "aktywny produkt",
          "product visibility",
          "widoczność produktu",
          "product stock",
          "stan magazynowy",
          "transformToPrestaShop",
          "toPrestaShop",
          "ProductTransformer",
          "get-modify-put",
          "PUT replace",
          "PUT zastępuje"
        ],
        "intentPatterns": [
          "prestashop.*?(api|webservice|integration)",
          "(cqrs|api).*?(get|create|update|delete)",
          "prestashop.*?(sync|import|export)",
          "(authenticate|connect).*?prestashop",
          "api.*?(call|request|response)",
          "(create|update|delete).*?prestashop.*?(product|category)",
          "prestashop.*?(workflow|pipeline)",
          "prestashop.*?product.*?(field|pole|create|update|sync|import|export)",
          "product.*?prestashop.*?(field|pole|create|update|sync|import|export)",
          "(import|export|sync).*?(product|produkt).*?prestashop",
          "prestashop.*?(import|export|sync).*?(product|produkt)",
          "(create|update|add|dodaj|utwórz|aktualizuj).*?product.*?prestashop",
          "prestashop.*?(create|update|add|dodaj|utwórz|aktualizuj).*?product",
          "(required|wymagane|mandatory|obowiązkowe).*?(field|pole).*?prestashop",
          "prestashop.*?(required|wymagane|mandatory|obowiązkowe).*?(field|pole)",
          "(readonly|not writable|niemodyfikowalne).*?(field|pole)",
          "product.*?(invisible|niewidoczny|znika|disappear).*?(admin|panel)",
          "(admin|panel).*?product.*?(invisible|niewidoczny|znika|disappear)",
          "manufacturer.*?(lookup|id|name)",
          "id_manufacturer.*?(required|null|zero|0)",
          "minimal_quantity.*?(required|0|zero)",
          "redirect_type.*?(required|empty)",
          "ps_specific_price.*?(missing|required|create)",
          "(multilang|wielojęzyczne).*?(field|pole)",
          "(pole|field).*?(multilang|wielojęzyczne)",
          "PUT.*?(replace|zastępuje|overwrites)",
          "get.*?modify.*?put",
          "ProductTransformer",
          "transformToPrestaShop",
          "(price|cena|name|nazwa|description|opis|category|kategoria|manufacturer|producent|sku|ean|weight|waga|stock|magazyn).*?prestashop",
          "prestashop.*?(price|cena|name|nazwa|description|opis|category|kategoria|manufacturer|producent|sku|ean|weight|waga|stock|magazyn)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "app/Services/PrestaShop/**/*Client.php",
          "app/Services/PrestaShop/**/*Sync*.php",
          "app/Services/PrestaShop/**/*Transformer*.php",
          "app/Console/Commands/PrestaShop*.php",
          "app/Jobs/PrestaShop/*.php",
          "app/Models/ProductShopData.php"
        ],
        "contentPatterns": [
          "PrestaShopApiClient",
          "withBasicAuth",
          "config\\('prestashop.api",
          "CQRSGet",
          "CQRSCreate",
          "CQRSUpdate",
          "output_format.*?JSON",
          "schema.*?blank",
          "schema.*?synopsis",
          "ProductTransformer",
          "transformToPrestaShop",
          "toPrestaShop",
          "id_manufacturer",
          "id_category_default",
          "minimal_quantity",
          "redirect_type",
          "additional_delivery_times",
          "ps_specific_price",
          "manufacturer_name",
          "readonly",
          "multilang",
          "prepareMultilangField",
          "filterReadonlyFields",
          "ensureRequiredFields",
          "getManufacturerId",
          "price.*?0\\.01",
          "state.*?1",
          "makeRequest.*?products",
          "POST.*?products",
          "PUT.*?products"
        ]
      },
      "criticalRules": [
        "7 WYMAGANYCH pól dla widoczności: id_manufacturer>0, minimal_quantity=1, redirect_type='301-category', state=1, additional_delivery_times=1, price>0, ps_specific_price EXISTS",
        "8 READONLY pól (NIE WYSYŁAJ!): manufacturer_name, supplier_name, date_add, date_upd, cache_*, indexed",
        "PUT ZASTĘPUJE cały zasób - używaj wzorca GET-MODIFY-PUT",
        "Multilang format: [['id' => lang_id, 'value' => text]]",
        "CDATA wrapping wszystkich wartości w XML",
        "manufacturer_name → id_manufacturer (lookup + auto-create)"
      ],
      "description": "PrestaShop API integration v2.0: Complete workflow (Auth, CRUD, Errors, Performance) + Product fields reference (7 required, 8 readonly, multilang, GET-MODIFY-PUT)"
    },

    "deployment-testing-cycle": {
      "type": "workflow",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "deployment",
          "deploy",
          "production",
          "test",
          "testing",
          "manual test",
          "działa",
          "works",
          "tested",
          "verify",
          "check production"
        ],
        "intentPatterns": [
          "(deploy|wdróż|upload).*?(production|produkcja)",
          "(test|testuj|sprawdź).*?(production|produkcja|działa)",
          "after.*?(code|changes|update|refactor)",
          "(ready|gotowe).*?test",
          "completed.*?(feature|task|fix)",
          "manual.*?test"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "app/**/*.php",
          "resources/views/**/*.blade.php",
          "resources/css/**/*.css",
          "resources/js/**/*.js"
        ],
        "contentPatterns": [
          "class.*Component",
          "class.*Controller",
          "@livewire",
          "wire:",
          "Route::"
        ]
      },
      "description": "MANDATORY deployment-testing workflow: Deploy → Test → Update Plan → Decision Loop (auto-trigger after code changes)"
    },

    "hook-creator": {
      "type": "workflow",
      "enforcement": "suggest",
      "priority": "medium",
      "promptTriggers": {
        "keywords": [
          "hook",
          "create hook",
          "generate hook",
          "sessionstart",
          "precompact",
          "posttooluse",
          "pretooluse",
          "automation",
          "custom hook"
        ],
        "intentPatterns": [
          "(create|make|build|generate).*?hook",
          "hook.*?(for|that|which)",
          "session.*?start.*?hook",
          "pre.*?compact.*?hook",
          "post.*?tool.*?hook",
          "pre.*?tool.*?hook",
          "(stwórz|utwórz).*?hook"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          ".claude/hooks/**/*.py",
          ".claude/settings.local.json"
        ],
        "contentPatterns": [
          "SessionStart",
          "PreCompact",
          "PostToolUse",
          "PreToolUse",
          "sys.stderr.write"
        ]
      },
      "description": "Hook creation: SessionStart, PreCompact, PostToolUse, PreToolUse templates with best practices"
    },

    "uve-visual-editor": {
      "type": "domain",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "uve",
          "visual editor",
          "edytor wizualny",
          "opis produktu",
          "product description",
          "css sync",
          "css isolation",
          "inline styles",
          "css classes",
          "prestashop description",
          "uve-content",
          "uve-s",
          "css leaks",
          "style sync",
          "ftp css",
          "custom.css",
          "uve-custom",
          "css specificity",
          "scoped css",
          "layout fix",
          "pd-intro",
          "pd-cover",
          "bg-brand",
          "product-description"
        ],
        "intentPatterns": [
          "uve.*?(visual|editor|css|style)",
          "visual.*?(editor|description)",
          "(opis|description).*?(produkt|product).*?(edit|style|css)",
          "css.*?(sync|isolation|leak|scope)",
          "inline.*?style.*?(remove|migrate|convert)",
          "(sync|upload).*?css.*?(prestashop|ftp)",
          "prestashop.*?(description|css|style)",
          "(edit|modify|update).*?uve",
          "css.*?(class|hash|naming)",
          "uve-s.*?hash",
          "product.*?description.*?(css|style)",
          "layout.*?fix.*?(css|prestashop)",
          "(wrapper|scope).*?uve-content",
          "css.*?validate.*?leak"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "app/Services/VisualEditor/**/*.php",
          "app/Http/Livewire/Products/VisualDescription/**/*.php",
          "app/Jobs/VisualEditor/**/*.php",
          "app/Console/Commands/*UveInlineStyles*.php"
        ],
        "contentPatterns": [
          "CssSyncOrchestrator",
          "UVE_CssClassGeneration",
          "UVE_PropertyPanel",
          "UVE_BlockManagement",
          "InlineStyleMigrator",
          "SyncProductCssJob",
          "validateCssForLeaks",
          "getLayoutFixCss",
          "uve-content",
          "uve-s",
          "@uve-styles-start",
          "css_rules",
          "css_class_map",
          "css_mode.*external"
        ]
      },
      "criticalRules": [
        "ZAKAZ: Inline styles (style=\"...\") - ZERO TOLERANCE!",
        "ZAKAZ: Global :root variables for UVE - use .uve-content scoped",
        "ZAKAZ: Unscoped selectors (.container, .btn, .nav, .breadcrumb)",
        "ZAKAZ: inline_style_block mode - ONLY external mode!",
        "ZAKAZ: Different CSS markers between components - UNIFIED markers only!",
        "WYMAGANE: All CSS selectors scoped to .uve-content or .product-description",
        "WYMAGANE: Per-style hash naming (.uve-s{hash})",
        "WYMAGANE: validateCssForLeaks() before CSS sync",
        "WYMAGANE: FULL REPLACE strategy (not append) with markers",
        "WYMAGANE: Lock mechanism (Cache::lock) for sync safety",
        "WYMAGANE: Backup and rollback on sync errors",
        "WYMAGANE: forceFetch=true in fetchExistingCssWithValidation() - ALWAYS fresh from FTP!",
        "WYMAGANE: Cache update after successful upload (cached_custom_css, css_last_fetched_at)",
        "WYMAGANE: Unified markers: /* @uve-styles-start */ and /* @uve-styles-end */ in ALL components"
      ],
      "description": "UVE Visual Editor (CSS-First Architecture v2.3): Zero inline styles, CSS isolation, scoped selectors, per-style hash, sync safety (lock, backup, rollback), forceFetch, unified markers"
    },

    "settings-protection": {
      "type": "safety",
      "enforcement": "require",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "settings.json",
          "settings.local.json",
          "edycja ustawien",
          "edit settings",
          "clean settings",
          "wyczysc ustawienia",
          "hooks section",
          "permissions section",
          "skill permissions",
          "mcp permissions",
          "usuwanie hooks",
          "remove hooks",
          "backup settings",
          "restore settings"
        ],
        "intentPatterns": [
          "(edit|edytuj|modify|modyfikuj).*?(settings|ustawienia)",
          "(clean|wyczysc|remove|usun).*?(settings|permissions|hooks)",
          "(backup|restore|przywroc).*?(settings|ustawienia)",
          "(hooks|permissions).*?(section|sekcja)",
          "settings.*?(json|local|file|plik)",
          "(Skill|mcp).*?permissions?"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          ".claude/settings.json",
          ".claude/settings.local.json",
          "C:/Users/*/\\.claude/settings.json",
          "C:/Users/*/\\.claude/settings.local.json"
        ],
        "contentPatterns": [
          "\"hooks\":",
          "\"permissions\":",
          "\"allow\":",
          "Skill\\(",
          "mcp__"
        ]
      },
      "criticalRules": [
        "ZAKAZ: Usuwania sekcji 'hooks' podczas edycji settings",
        "ZAKAZ: Usuwania 'Skill(:*)' lub 'Skill(nazwa)' permissions",
        "ZAKAZ: Usuwania 'mcp__*' permissions",
        "WYMAGANE: Backup przed edycja settings (Copy-Item)",
        "WYMAGANE: Walidacja po edycji (sprawdz hooks i permissions)",
        "WYMAGANE: Uzyj MERGE zamiast REPLACE calego pliku"
      ],
      "description": "Settings protection: CHRONI hooks i skills permissions przed przypadkowym usunieciem podczas edycji/czyszczenia settings.json"
    }
  },

  "globalRules": {
    "fileSize": {
      "standard": 300,
      "exceptional": 500,
      "description": "Maximum lines per file (standard: 300, exceptional: 500)"
    },
    "separationOfConcerns": [
      "Models/classes in separate files",
      "Business logic in separate files",
      "UI in separate files",
      "Configuration in separate files"
    ],
    "todoTracking": {
      "enabled": true,
      "description": "ALWAYS create and update TODO lists during work"
    },
    "encoding": {
      "php": "UTF-8",
      "powershell": "UTF-8 with BOM",
      "description": "UTF-8 encoding for all files"
    },
    "projectStructure": {
      "rootClean": true,
      "description": "ZAKAZ creating unrelated files in project root",
      "folders": {
        "_DOCS": "Documentation files (.md, .txt, .pdf)",
        "_AGENT_REPORTS": "Agent reports (MANDATORY)",
        "_TOOLS": "Project-specific tools",
        "_TEST": "Test files/scripts",
        "_OTHER": "Unclassified files"
      }
    }
  },

  "enforcementLevels": {
    "suggest": {
      "description": "Non-blocking suggestion, Claude can proceed without using skill",
      "action": "Show gentle reminder"
    },
    "require": {
      "description": "Strong recommendation, Claude should use skill",
      "action": "Show prominent reminder with justification if skipped"
    },
    "block": {
      "description": "Blocking enforcement, Claude must use skill",
      "action": "Prevent action without skill compliance"
    }
  },

  "priorityLevels": {
    "low": "Optional skill, nice-to-have",
    "medium": "Important skill, recommended for quality",
    "high": "Critical skill, essential for consistency",
    "critical": "Mandatory skill, project requirements depend on it"
  },
    "skills": {
    "subiekt-gt-integration": {
      "type": "integration",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Subiekt GT Integration: Baza danych SQL Server, Sfera API, REST wrapper dla ERP InsERT. Uzyj przy synchronizacji produktow, kontrahentow, zamowien.",
      "promptTriggers": {
        "keywords": [
          "Subiekt GT",
          "Subiekt",
          "InsERT",
          "Sfera GT",
          "Sfera",
          "integracja ERP",
          "synchronizacja magazynu",
          "import produktow",
          "import kontrahentow",
          "tw__Towar",
          "kh__Kontrahent",
          "dok__Dokument",
          "INSERTGT",
          "spIdentyfikator",
          "stany magazynowe",
          "faktury Subiekt"
        ],
        "intentPatterns": [
          "(polacz|connect|integracja|integruj).*?subiekt",
          "subiekt.*?(api|baza|database|sql|polaczenie)",
          "(import|export|sync|synchronizacja|synchronizuj).*?(produkty|towary|kontrahenci|zamowienia|faktury)",
          "(sfera|insert).*?(gt|api|com|ole)",
          "(pobierz|wczytaj|zapisz).*?(towar|kontrahent|dokument|faktur)",
          "struktura.*?(bazy|tabel).*?subiekt",
          "(stan|stany).*?magazyn.*?subiekt"
        ]
      },
      "skillLocation": ".claude/skills/subiekt-gt-integration/SKILL.md",
      "resources": [
        ".claude/skills/subiekt-gt-integration/SQL_EXAMPLES.md",
        ".claude/skills/subiekt-gt-integration/resources/table-schema.md",
        ".claude/skills/subiekt-gt-integration/resources/sfera-api.md"
      ]
    },
    "permission-management": {
      "type": "domain",
      "enforcement": "require",
      "priority": "high",
      "description": "PPM Permission Management: Modular permissions architecture, Spatie Laravel Permission, role/permission CRUD, AI-friendly module templates.",
      "promptTriggers": {
        "keywords": [
          "permission",
          "permissions",
          "role",
          "roles",
          "uprawnienie",
          "uprawnienia",
          "rola",
          "role",
          "spatie",
          "authorize",
          "autoryzacja",
          "access control",
          "kontrola dostepu",
          "permission module",
          "modul uprawnien",
          "permission matrix",
          "macierz uprawnien",
          "admin/permissions",
          "admin/roles"
        ],
        "intentPatterns": [
          "(add|create|dodaj|stworz|utwórz).*?(permission|uprawnienie|modul)",
          "(permission|uprawnienie).*?(module|modul)",
          "(role|rola).*?(permission|uprawnienie|create|assign)",
          "(admin|panel).*?(permission|role|uprawnienie|rola)",
          "spatie.*?(permission|role)",
          "(authorize|autoryzuj|sprawdz).*?(permission|uprawnienie)",
          "(macierz|matrix).*?(uprawnien|permission)",
          "(modul|module).*?(permission|uprawnienie)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "app/Http/Livewire/Admin/Permissions/**/*.php",
          "app/Http/Livewire/Admin/Roles/**/*.php",
          "app/Policies/**/*.php",
          "config/permissions/*.php",
          "app/Services/Permissions/**/*.php",
          "database/seeders/*Permission*.php"
        ],
        "contentPatterns": [
          "PermissionMatrix",
          "RoleList",
          "hasPermissionTo",
          "givePermissionTo",
          "revokePermissionTo",
          "Spatie\\\\Permission",
          "Permission::create",
          "Role::create",
          "config/permissions/",
          "PermissionModuleLoader"
        ]
      },
      "criticalRules": [
        "ZAKAZ: withCount('users') na Role - uzyj raw SQL subquery",
        "WYMAGANE: Module template z config/permissions/_template.php",
        "WYMAGANE: php artisan db:seed --class=RolePermissionSeeder po zmianach",
        "WYMAGANE: php artisan cache:clear po zmianach permissions",
        "WYMAGANE: guard_name => 'web' dla wszystkich permissions"
      ],
      "skillLocation": ".claude/skills/permission-management/SKILL.md",
      "resources": [
        ".claude/skills/permission-management/resources/_template.php"
      ]
    }
  }
}
