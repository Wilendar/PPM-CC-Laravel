[2025-10-13 11:15:19] production.INFO: Starting product import from PrestaShop {"prestashop_product_id":4017,"shop_id":5,"shop_name":"Test KAYO"} 
[2025-10-13 11:15:19] production.INFO: PrestaShop API Request {"shop_id":5,"shop_name":"Test KAYO","prestashop_version":"8","method":"GET","url":"https://test.kayomoto.pl/api/products/4017","status_code":200,"execution_time_ms":28.8,"request_size_bytes":2,"response_size_bytes":949,"timestamp":"2025-10-13T11:15:19+00:00"} 
[2025-10-13 11:15:19] production.DEBUG: Product fetched from PrestaShop API {"prestashop_product_id":4017,"reference":"PPM-TEST","name":null} 
[2025-10-13 11:15:19] production.DEBUG: ProductTransformer: transformToPPM CALLED {"prestashop_product_id":4017,"shop_id":5,"product_keys":["id","id_category_default","id_default_image","id_tax_rules_group","position_in_category","type","id_shop_default","reference","width","height","depth","weight","state","additional_delivery_times","ecotax","minimal_quantity","price","wholesale_price","unit_price","unit_price_ratio","additional_shipping_cost","active","redirect_type","available_for_order","available_date","condition","show_price","indexed","visibility","date_add","date_upd","pack_stock_type","link_rewrite","name","associations"]} 
[2025-10-13 11:15:19] production.INFO: Product transformed from PrestaShop to PPM {"prestashop_product_id":4017,"sku":"PPM-TEST","shop_id":5,"category_mapped":true} 
[2025-10-13 11:15:19] production.DEBUG: ProductTransformer: transformPriceToPPM CALLED {"prestashop_product_id":4017,"price":"0.000000","shop_id":5} 
[2025-10-13 11:15:19] production.WARNING: Using fallback default price group {"shop_id":5,"price_group_id":1,"price_group_code":"retail"} 
[2025-10-13 11:15:19] production.INFO: Price transformed from PrestaShop to PPM {"prestashop_product_id":4017,"price":0.0,"price_group":"retail"} 
[2025-10-13 11:15:19] production.DEBUG: ProductTransformer: transformStockToPPM CALLED {"prestashop_product_id":4017,"quantity":null,"shop_id":5} 
[2025-10-13 11:15:19] production.INFO: Stock transformed from PrestaShop to PPM {"prestashop_product_id":4017,"quantity":0,"warehouse":"MPPTRADE"} 
[2025-10-13 11:15:19] production.INFO: Updating existing product {"product_id":10960,"sku":"PPM-TEST"} 
[2025-10-13 11:15:19] production.DEBUG: Price synced {"product_id":10960,"price_group":"retail","price":0.0} 
[2025-10-13 11:15:19] production.INFO: ProductShopData created (consolidated sync tracking + snapshot) {"product_id":10960,"shop_id":5,"prestashop_product_id":4017,"external_reference":"test-ppm","purpose":"conflict_detection_baseline"} 
[2025-10-13 11:15:19] production.DEBUG: Skipping PrestaShop root category during product import {"prestashop_category_id":2} 
[2025-10-13 11:15:19] production.INFO: Per-shop categories saved (shop_id=X) {"product_id":10960,"shop_id":5,"category_count":2,"category_ids":[60,61]} 
[2025-10-13 11:15:19] production.WARNING: Category conflict detected - modal will ask about DEFAULT categories {"product_id":10960,"shop_id":5,"default_count":3,"shop_count":2,"question":"Should we update DEFAULT categories (shop_id=NULL) to match shop?"} 
[2025-10-13 11:15:19] production.INFO: Product import completed successfully {"product_id":10960,"sku":"PPM-TEST","execution_time_ms":39} 
[2025-10-13 11:15:19] production.INFO: Product updated successfully {"shop_id":5,"shop_name":"Test KAYO","sku":"PPM-TEST","prestashop_id":4017,"ppm_id":10960,"product_name":"TEST PPM","operation":"update"} 
[2025-10-13 11:15:19] production.DEBUG: Job progress updated {"progress_id":153,"job_id":"e1feac53-b4c8-481e-9148-49c5b4038d39","current_count":1,"total_count":1,"percentage":100} 
[2025-10-13 11:15:19] production.INFO: Job progress marked as completed {"progress_id":153,"job_id":"e1feac53-b4c8-481e-9148-49c5b4038d39","job_type":"import","shop_id":5,"total_count":1,"error_count":0,"duration_seconds":-57.0,"summary":{"imported":0,"updated":1,"skipped":0,"execution_time_ms":96}} 
[2025-10-13 11:15:19] production.INFO: BulkImportProducts job completed {"shop_id":5,"shop_name":"Test KAYO","mode":"individual","total":1,"imported":0,"updated":1,"skipped":0,"errors":0,"success_rate":"100%","execution_time_ms":96,"execution_time_readable":"0.1s","progress_id":153} 
[2025-10-13 11:16:35] production.INFO: ExpirePendingCategoryPreview job started {"preview_id":79} 
[2025-10-13 11:16:35] production.INFO: ExpirePendingCategoryPreview: Preview already processed (skip expire) {"preview_id":79,"current_status":"approved"} 
[2025-10-13 11:16:53] production.INFO: ExpirePendingCategoryPreview job started {"preview_id":80} 
[2025-10-13 11:16:53] production.INFO: ExpirePendingCategoryPreview: Preview already processed (skip expire) {"preview_id":80,"current_status":"approved"} 
[2025-10-13 11:26:19] production.INFO: BulkImportProducts job started {"shop_id":5,"shop_name":"Test KAYO","mode":"individual","options":{"product_ids":[4017]},"pre_generated_job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302"} 
[2025-10-13 11:26:19] production.INFO: PrestaShop API Request {"shop_id":5,"shop_name":"Test KAYO","prestashop_version":"8","method":"GET","url":"https://test.kayomoto.pl/api/products/4017","status_code":200,"execution_time_ms":37.39,"request_size_bytes":2,"response_size_bytes":949,"timestamp":"2025-10-13T11:26:19+00:00"} 
[2025-10-13 11:26:19] production.INFO: BulkImportProducts: Products fetched {"shop_id":5,"shop_name":"Test KAYO","total_products":1,"mode":"individual"} 
[2025-10-13 11:26:19] production.DEBUG: Category analysis needed {"job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302","shop_id":5} 
[2025-10-13 11:26:19] production.INFO: Category analysis required - dispatching AnalyzeMissingCategories {"shop_id":5,"job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302","mode":"individual","total_products":1} 
[2025-10-13 11:26:19] production.INFO: JobProgress updated before category analysis {"progress_id":154,"job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302","total_count":1,"status":"pending"} 
[2025-10-13 11:26:19] production.INFO: AnalyzeMissingCategories dispatched - product import halted {"shop_id":5,"job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302","product_count":1} 
[2025-10-13 11:26:19] production.INFO: AnalyzeMissingCategories job started {"shop_id":5,"shop_name":"Test KAYO","product_count":1,"job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302"} 
[2025-10-13 11:26:19] production.DEBUG: Fetching products for category analysis {"product_ids_count":1,"filter":"[4017]"} 
[2025-10-13 11:26:19] production.INFO: PrestaShop API Request {"shop_id":5,"shop_name":"Test KAYO","prestashop_version":"8","method":"GET","url":"https://test.kayomoto.pl/api/products?display=full&filter%5Bid%5D=%5B4017%5D&output_format=JSON","status_code":200,"execution_time_ms":43.12,"request_size_bytes":2,"response_size_bytes":1699,"timestamp":"2025-10-13T11:26:19+00:00"} 
[2025-10-13 11:26:19] production.INFO: Category IDs extracted from products {"total_categories":3,"category_ids":[154,2,135]} 
[2025-10-13 11:26:19] production.INFO: Existing categories found in PPM {"existing_count":3,"existing_ids":[2,135,154]} 
[2025-10-13 11:26:19] production.INFO: Missing categories detected {"missing_count":0,"missing_ids":[]} 
[2025-10-13 11:26:19] production.INFO: No missing categories - creating empty preview for user approval {"shop_id":5,"job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302"} 
[2025-10-13 11:26:19] production.INFO: Empty preview created - waiting for user approval {"preview_id":89,"job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302","expires_at":"2025-10-13 12:26:19"} 
[2025-10-13 11:26:19] production.INFO: Broadcasting [CategoryPreviewReady] on channels [private-shop.5] with payload:
{
    "job_id": "7f61df2a-477b-483b-9cd8-01c4f38e5302",
    "shop_id": 5,
    "preview_id": 89,
    "timestamp": "2025-10-13T11:26:19+00:00",
    "socket": null
}  
[2025-10-13 11:26:25] production.INFO: BulkImportProducts job started {"shop_id":5,"shop_name":"Test KAYO","mode":"individual","options":{"product_ids":[4017],"skip_category_analysis":true},"pre_generated_job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302"} 
[2025-10-13 11:26:26] production.INFO: PrestaShop API Request {"shop_id":5,"shop_name":"Test KAYO","prestashop_version":"8","method":"GET","url":"https://test.kayomoto.pl/api/products/4017","status_code":200,"execution_time_ms":36.44,"request_size_bytes":2,"response_size_bytes":949,"timestamp":"2025-10-13T11:26:26+00:00"} 
[2025-10-13 11:26:26] production.INFO: BulkImportProducts: Products fetched {"shop_id":5,"shop_name":"Test KAYO","total_products":1,"mode":"individual"} 
[2025-10-13 11:26:26] production.DEBUG: Category analysis explicitly skipped (dispatched from AnalyzeMissingCategories) {"job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302","shop_id":5} 
[2025-10-13 11:26:26] production.INFO: JobProgress updated: pending Ôćĺ running {"progress_id":154,"job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302","total_count":1} 
[2025-10-13 11:26:26] production.INFO: BulkImportProducts: Products to import {"shop_id":5,"shop_name":"Test KAYO","total_products":1,"mode":"individual","progress_id":154} 
[2025-10-13 11:26:26] production.DEBUG: Job progress updated {"progress_id":154,"job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302","current_count":1,"total_count":1,"percentage":100} 
[2025-10-13 11:26:26] production.INFO: Starting product import from PrestaShop {"prestashop_product_id":4017,"shop_id":5,"shop_name":"Test KAYO"} 
[2025-10-13 11:26:26] production.INFO: PrestaShop API Request {"shop_id":5,"shop_name":"Test KAYO","prestashop_version":"8","method":"GET","url":"https://test.kayomoto.pl/api/products/4017","status_code":200,"execution_time_ms":29.3,"request_size_bytes":2,"response_size_bytes":949,"timestamp":"2025-10-13T11:26:26+00:00"} 
[2025-10-13 11:26:26] production.DEBUG: Product fetched from PrestaShop API {"prestashop_product_id":4017,"reference":"PPM-TEST","name":null} 
[2025-10-13 11:26:26] production.DEBUG: ProductTransformer: transformToPPM CALLED {"prestashop_product_id":4017,"shop_id":5,"product_keys":["id","id_category_default","id_default_image","id_tax_rules_group","position_in_category","type","id_shop_default","reference","width","height","depth","weight","state","additional_delivery_times","ecotax","minimal_quantity","price","wholesale_price","unit_price","unit_price_ratio","additional_shipping_cost","active","redirect_type","available_for_order","available_date","condition","show_price","indexed","visibility","date_add","date_upd","pack_stock_type","link_rewrite","name","associations"]} 
[2025-10-13 11:26:26] production.INFO: Product transformed from PrestaShop to PPM {"prestashop_product_id":4017,"sku":"PPM-TEST","shop_id":5,"category_mapped":true} 
[2025-10-13 11:26:26] production.DEBUG: ProductTransformer: transformPriceToPPM CALLED {"prestashop_product_id":4017,"price":"0.000000","shop_id":5} 
[2025-10-13 11:26:26] production.WARNING: Using fallback default price group {"shop_id":5,"price_group_id":1,"price_group_code":"retail"} 
[2025-10-13 11:26:26] production.INFO: Price transformed from PrestaShop to PPM {"prestashop_product_id":4017,"price":0.0,"price_group":"retail"} 
[2025-10-13 11:26:26] production.DEBUG: ProductTransformer: transformStockToPPM CALLED {"prestashop_product_id":4017,"quantity":null,"shop_id":5} 
[2025-10-13 11:26:26] production.INFO: Stock transformed from PrestaShop to PPM {"prestashop_product_id":4017,"quantity":0,"warehouse":"MPPTRADE"} 
[2025-10-13 11:26:26] production.INFO: Updating existing product {"product_id":10960,"sku":"PPM-TEST"} 
[2025-10-13 11:26:26] production.DEBUG: Price synced {"product_id":10960,"price_group":"retail","price":0.0} 
[2025-10-13 11:26:26] production.INFO: ProductShopData created (consolidated sync tracking + snapshot) {"product_id":10960,"shop_id":5,"prestashop_product_id":4017,"external_reference":"test-ppm","purpose":"conflict_detection_baseline"} 
[2025-10-13 11:26:26] production.DEBUG: Skipping PrestaShop root category during product import {"prestashop_category_id":2} 
[2025-10-13 11:26:26] production.INFO: Per-shop categories saved (shop_id=X) {"product_id":10960,"shop_id":5,"category_count":2,"category_ids":[60,61]} 
[2025-10-13 11:26:26] production.WARNING: Category conflict detected - modal will ask about DEFAULT categories {"product_id":10960,"shop_id":5,"default_count":3,"shop_count":2,"question":"Should we update DEFAULT categories (shop_id=NULL) to match shop?"} 
[2025-10-13 11:26:26] production.INFO: Product import completed successfully {"product_id":10960,"sku":"PPM-TEST","execution_time_ms":39} 
[2025-10-13 11:26:26] production.INFO: Product updated successfully {"shop_id":5,"shop_name":"Test KAYO","sku":"PPM-TEST","prestashop_id":4017,"ppm_id":10960,"product_name":"TEST PPM","operation":"update"} 
[2025-10-13 11:26:26] production.DEBUG: Job progress updated {"progress_id":154,"job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302","current_count":1,"total_count":1,"percentage":100} 
[2025-10-13 11:26:26] production.INFO: Job progress marked as completed {"progress_id":154,"job_id":"7f61df2a-477b-483b-9cd8-01c4f38e5302","job_type":"import","shop_id":5,"total_count":1,"error_count":0,"duration_seconds":-9.0,"summary":{"imported":0,"updated":1,"skipped":0,"execution_time_ms":85}} 
[2025-10-13 11:26:26] production.INFO: BulkImportProducts job completed {"shop_id":5,"shop_name":"Test KAYO","mode":"individual","total":1,"imported":0,"updated":1,"skipped":0,"errors":0,"success_rate":"100%","execution_time_ms":85,"execution_time_readable":"0.09s","progress_id":154} 
[2025-10-13 11:27:03] production.INFO: BulkImportProducts job started {"shop_id":5,"shop_name":"Test KAYO","mode":"individual","options":{"product_ids":[4017]},"pre_generated_job_id":"71c2adb8-39fb-4214-a43f-cedd04f396cb"} 
[2025-10-13 11:27:03] production.INFO: PrestaShop API Request {"shop_id":5,"shop_name":"Test KAYO","prestashop_version":"8","method":"GET","url":"https://test.kayomoto.pl/api/products/4017","status_code":200,"execution_time_ms":38.59,"request_size_bytes":2,"response_size_bytes":949,"timestamp":"2025-10-13T11:27:03+00:00"} 
[2025-10-13 11:27:03] production.INFO: BulkImportProducts: Products fetched {"shop_id":5,"shop_name":"Test KAYO","total_products":1,"mode":"individual"} 
[2025-10-13 11:27:03] production.DEBUG: Category analysis needed {"job_id":"71c2adb8-39fb-4214-a43f-cedd04f396cb","shop_id":5} 
[2025-10-13 11:27:03] production.INFO: Category analysis required - dispatching AnalyzeMissingCategories {"shop_id":5,"job_id":"71c2adb8-39fb-4214-a43f-cedd04f396cb","mode":"individual","total_products":1} 
[2025-10-13 11:27:03] production.INFO: JobProgress updated before category analysis {"progress_id":155,"job_id":"71c2adb8-39fb-4214-a43f-cedd04f396cb","total_count":1,"status":"pending"} 
[2025-10-13 11:27:03] production.INFO: AnalyzeMissingCategories dispatched - product import halted {"shop_id":5,"job_id":"71c2adb8-39fb-4214-a43f-cedd04f396cb","product_count":1} 
[2025-10-13 11:27:03] production.INFO: AnalyzeMissingCategories job started {"shop_id":5,"shop_name":"Test KAYO","product_count":1,"job_id":"71c2adb8-39fb-4214-a43f-cedd04f396cb"} 
[2025-10-13 11:27:03] production.DEBUG: Fetching products for category analysis {"product_ids_count":1,"filter":"[4017]"} 
[2025-10-13 11:27:03] production.INFO: PrestaShop API Request {"shop_id":5,"shop_name":"Test KAYO","prestashop_version":"8","method":"GET","url":"https://test.kayomoto.pl/api/products?display=full&filter%5Bid%5D=%5B4017%5D&output_format=JSON","status_code":200,"execution_time_ms":37.44,"request_size_bytes":2,"response_size_bytes":1699,"timestamp":"2025-10-13T11:27:03+00:00"} 
[2025-10-13 11:27:03] production.INFO: Category IDs extracted from products {"total_categories":3,"category_ids":[154,2,135]} 
[2025-10-13 11:27:03] production.INFO: Existing categories found in PPM {"existing_count":3,"existing_ids":[2,135,154]} 
[2025-10-13 11:27:03] production.INFO: Missing categories detected {"missing_count":0,"missing_ids":[]} 
[2025-10-13 11:27:03] production.INFO: No missing categories - creating empty preview for user approval {"shop_id":5,"job_id":"71c2adb8-39fb-4214-a43f-cedd04f396cb"} 
[2025-10-13 11:27:03] production.INFO: Empty preview created - waiting for user approval {"preview_id":90,"job_id":"71c2adb8-39fb-4214-a43f-cedd04f396cb","expires_at":"2025-10-13 12:27:03"} 
[2025-10-13 11:27:04] production.INFO: Broadcasting [CategoryPreviewReady] on channels [private-shop.5] with payload:
{
    "job_id": "71c2adb8-39fb-4214-a43f-cedd04f396cb",
    "shop_id": 5,
    "preview_id": 90,
    "timestamp": "2025-10-13T11:27:04+00:00",
    "socket": null
}  
[2025-10-13 11:31:23] production.INFO: BulkImportProducts job started {"shop_id":5,"shop_name":"Test KAYO","mode":"individual","options":{"product_ids":[4017]},"pre_generated_job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03"} 
[2025-10-13 11:31:23] production.INFO: PrestaShop API Request {"shop_id":5,"shop_name":"Test KAYO","prestashop_version":"8","method":"GET","url":"https://test.kayomoto.pl/api/products/4017","status_code":200,"execution_time_ms":41.92,"request_size_bytes":2,"response_size_bytes":949,"timestamp":"2025-10-13T11:31:23+00:00"} 
[2025-10-13 11:31:23] production.INFO: BulkImportProducts: Products fetched {"shop_id":5,"shop_name":"Test KAYO","total_products":1,"mode":"individual"} 
[2025-10-13 11:31:23] production.DEBUG: Category analysis needed {"job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03","shop_id":5} 
[2025-10-13 11:31:23] production.INFO: Category analysis required - dispatching AnalyzeMissingCategories {"shop_id":5,"job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03","mode":"individual","total_products":1} 
[2025-10-13 11:31:23] production.INFO: JobProgress updated before category analysis {"progress_id":156,"job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03","total_count":1,"status":"pending"} 
[2025-10-13 11:31:23] production.INFO: AnalyzeMissingCategories dispatched - product import halted {"shop_id":5,"job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03","product_count":1} 
[2025-10-13 11:31:23] production.INFO: AnalyzeMissingCategories job started {"shop_id":5,"shop_name":"Test KAYO","product_count":1,"job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03"} 
[2025-10-13 11:31:23] production.DEBUG: Fetching products for category analysis {"product_ids_count":1,"filter":"[4017]"} 
[2025-10-13 11:31:23] production.INFO: PrestaShop API Request {"shop_id":5,"shop_name":"Test KAYO","prestashop_version":"8","method":"GET","url":"https://test.kayomoto.pl/api/products?display=full&filter%5Bid%5D=%5B4017%5D&output_format=JSON","status_code":200,"execution_time_ms":37.04,"request_size_bytes":2,"response_size_bytes":1699,"timestamp":"2025-10-13T11:31:23+00:00"} 
[2025-10-13 11:31:23] production.INFO: Category IDs extracted from products {"total_categories":3,"category_ids":[154,2,135]} 
[2025-10-13 11:31:23] production.INFO: Existing categories found in PPM {"existing_count":3,"existing_ids":[2,135,154]} 
[2025-10-13 11:31:23] production.INFO: Missing categories detected {"missing_count":0,"missing_ids":[]} 
[2025-10-13 11:31:23] production.INFO: No missing categories - creating empty preview for user approval {"shop_id":5,"job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03"} 
[2025-10-13 11:31:23] production.INFO: Empty preview created - waiting for user approval {"preview_id":91,"job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03","expires_at":"2025-10-13 12:31:23"} 
[2025-10-13 11:31:23] production.INFO: Broadcasting [CategoryPreviewReady] on channels [private-shop.5] with payload:
{
    "job_id": "c369ce86-dba3-4d55-8577-5ca5d04f3a03",
    "shop_id": 5,
    "preview_id": 91,
    "timestamp": "2025-10-13T11:31:23+00:00",
    "socket": null
}  
[2025-10-13 11:31:42] production.INFO: BulkImportProducts job started {"shop_id":5,"shop_name":"Test KAYO","mode":"individual","options":{"product_ids":[4017],"skip_category_analysis":true},"pre_generated_job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03"} 
[2025-10-13 11:31:42] production.INFO: PrestaShop API Request {"shop_id":5,"shop_name":"Test KAYO","prestashop_version":"8","method":"GET","url":"https://test.kayomoto.pl/api/products/4017","status_code":200,"execution_time_ms":45.67,"request_size_bytes":2,"response_size_bytes":949,"timestamp":"2025-10-13T11:31:42+00:00"} 
[2025-10-13 11:31:42] production.INFO: BulkImportProducts: Products fetched {"shop_id":5,"shop_name":"Test KAYO","total_products":1,"mode":"individual"} 
[2025-10-13 11:31:42] production.DEBUG: Category analysis explicitly skipped (dispatched from AnalyzeMissingCategories) {"job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03","shop_id":5} 
[2025-10-13 11:31:42] production.INFO: JobProgress updated: pending Ôćĺ running {"progress_id":156,"job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03","total_count":1} 
[2025-10-13 11:31:42] production.INFO: BulkImportProducts: Products to import {"shop_id":5,"shop_name":"Test KAYO","total_products":1,"mode":"individual","progress_id":156} 
[2025-10-13 11:31:42] production.DEBUG: Job progress updated {"progress_id":156,"job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03","current_count":1,"total_count":1,"percentage":100} 
[2025-10-13 11:31:42] production.INFO: Starting product import from PrestaShop {"prestashop_product_id":4017,"shop_id":5,"shop_name":"Test KAYO"} 
[2025-10-13 11:31:42] production.INFO: PrestaShop API Request {"shop_id":5,"shop_name":"Test KAYO","prestashop_version":"8","method":"GET","url":"https://test.kayomoto.pl/api/products/4017","status_code":200,"execution_time_ms":29.18,"request_size_bytes":2,"response_size_bytes":949,"timestamp":"2025-10-13T11:31:42+00:00"} 
[2025-10-13 11:31:42] production.DEBUG: Product fetched from PrestaShop API {"prestashop_product_id":4017,"reference":"PPM-TEST","name":null} 
[2025-10-13 11:31:42] production.DEBUG: ProductTransformer: transformToPPM CALLED {"prestashop_product_id":4017,"shop_id":5,"product_keys":["id","id_category_default","id_default_image","id_tax_rules_group","position_in_category","type","id_shop_default","reference","width","height","depth","weight","state","additional_delivery_times","ecotax","minimal_quantity","price","wholesale_price","unit_price","unit_price_ratio","additional_shipping_cost","active","redirect_type","available_for_order","available_date","condition","show_price","indexed","visibility","date_add","date_upd","pack_stock_type","link_rewrite","name","associations"]} 
[2025-10-13 11:31:42] production.INFO: Product transformed from PrestaShop to PPM {"prestashop_product_id":4017,"sku":"PPM-TEST","shop_id":5,"category_mapped":true} 
[2025-10-13 11:31:42] production.DEBUG: ProductTransformer: transformPriceToPPM CALLED {"prestashop_product_id":4017,"price":"0.000000","shop_id":5} 
[2025-10-13 11:31:42] production.WARNING: Using fallback default price group {"shop_id":5,"price_group_id":1,"price_group_code":"retail"} 
[2025-10-13 11:31:42] production.INFO: Price transformed from PrestaShop to PPM {"prestashop_product_id":4017,"price":0.0,"price_group":"retail"} 
[2025-10-13 11:31:42] production.DEBUG: ProductTransformer: transformStockToPPM CALLED {"prestashop_product_id":4017,"quantity":null,"shop_id":5} 
[2025-10-13 11:31:42] production.INFO: Stock transformed from PrestaShop to PPM {"prestashop_product_id":4017,"quantity":0,"warehouse":"MPPTRADE"} 
[2025-10-13 11:31:42] production.INFO: Updating existing product {"product_id":10960,"sku":"PPM-TEST"} 
[2025-10-13 11:31:42] production.DEBUG: Price synced {"product_id":10960,"price_group":"retail","price":0.0} 
[2025-10-13 11:31:42] production.INFO: ProductShopData created (consolidated sync tracking + snapshot) {"product_id":10960,"shop_id":5,"prestashop_product_id":4017,"external_reference":"test-ppm","purpose":"conflict_detection_baseline"} 
[2025-10-13 11:31:42] production.DEBUG: Skipping PrestaShop root category during product import {"prestashop_category_id":2} 
[2025-10-13 11:31:42] production.INFO: Per-shop categories saved (shop_id=X) {"product_id":10960,"shop_id":5,"category_count":2,"category_ids":[60,61]} 
[2025-10-13 11:31:42] production.WARNING: Category conflict detected - modal will ask about DEFAULT categories {"product_id":10960,"shop_id":5,"default_count":3,"shop_count":2,"question":"Should we update DEFAULT categories (shop_id=NULL) to match shop?"} 
[2025-10-13 11:31:42] production.INFO: Product import completed successfully {"product_id":10960,"sku":"PPM-TEST","execution_time_ms":39} 
[2025-10-13 11:31:42] production.INFO: Product updated successfully {"shop_id":5,"shop_name":"Test KAYO","sku":"PPM-TEST","prestashop_id":4017,"ppm_id":10960,"product_name":"TEST PPM","operation":"update"} 
[2025-10-13 11:31:42] production.DEBUG: Job progress updated {"progress_id":156,"job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03","current_count":1,"total_count":1,"percentage":100} 
[2025-10-13 11:31:42] production.INFO: Job progress marked as completed {"progress_id":156,"job_id":"c369ce86-dba3-4d55-8577-5ca5d04f3a03","job_type":"import","shop_id":5,"total_count":1,"error_count":0,"duration_seconds":-22.0,"summary":{"imported":0,"updated":1,"skipped":0,"execution_time_ms":95}} 
[2025-10-13 11:31:42] production.INFO: BulkImportProducts job completed {"shop_id":5,"shop_name":"Test KAYO","mode":"individual","total":1,"imported":0,"updated":1,"skipped":0,"errors":0,"success_rate":"100%","execution_time_ms":95,"execution_time_readable":"0.1s","progress_id":156} 
